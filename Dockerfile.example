FROM node:22.15.0-alpine
COPY . .
ENV MEDUSA_BACKEND_URL=
ENV NEXT_PUBLIC_MEDUSA_PUBLISHABLE_KEY=
ENV NEXT_PUBLIC_BASE_URL=
ENV NEXT_PUBLIC_DEFAULT_REGION=
ENV NEXT_PUBLIC_STRIPE_KEY=
ENV REVALIDATE_SECRET=
ENV NEXT_PUBLIC_MEDUSA_PUBLISHABLE_KEY=
LABEL fly_launch_runtime="nodejs"
RUN npm install
RUN npx next build
#RUN npm run seed
EXPOSE 9000
CMD ["npm", "run", "start"]